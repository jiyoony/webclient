(this["webpackJsonpproj2-ex"]=this["webpackJsonpproj2-ex"]||[]).push([[0],{21:function(e,t,a){e.exports=a(47)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(15),l=a.n(o),r=a(16),c=a(17),s=a(20),m=a(18),u=a(5),d=a(2),v=a(3);a(26);var p=function(e){var t=e.movie,a=e.handler,n="http://movie-app-20191313.herokuapp.com/img-yts/assets/images/movies/".concat(t.slug.replace(/-/gi,"_"),"/medium-cover.jpg");return i.a.createElement("div",{style:{flex:1,height:150,backgroundPosition:"left",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(n,")")},onClick:function(){return a(t)}})},g=a(19),f=(a(27),a(28),function(e){var t=e.children;return i.a.createElement("div",{className:"TodoTemplate"},i.a.createElement("div",{className:"app-title"},"yts.mx \uc601\ud654 \uc815\ubcf4"),i.a.createElement("div",{className:"content"},t))}),h=a(4),b=a.n(h),E=function(e){return b.a.get("https://movie-app-20191313.herokuapp.com/yts/api/v2/list_movies.json",{params:Object.keys(e).reduce((function(t,a){var n=e[a];if("sort_by"===a)switch(n){case"like":n="like_count"}return Object(v.a)(Object(v.a)({},t),{},Object(d.a)({},a,n))}),{})})},y=function(e){return b.a.get("http://movie-app-20191313.herokuapp.com/yts/api/v2/list_movies.json",{params:e})},k=function(e){var t=e.info,a=t.id,o=t.title,l=t.rating,r=t.year,c=t.runtime,s=t.slug,m=t.genres,d=void 0===m?[]:m,v=t.description_full,p="https://movie-app-20191313.herokuapp.com/img-yts/assets/images/movies/".concat(null===s||void 0===s?void 0:s.replace(/-/gi,"_"),"/large-cover.jpg"),g=Object(n.useState)(0),f=Object(u.a)(g,2),h=f[0],b=f[1];return Object(n.useEffect)((function(){void 0!==a?(b(void 0),y({movie_id:a}).then((function(e){var t=e.data;console.log("data",t);(null===t||void 0===t?void 0:t.data).movie}))):b(0)}),[a,s]),i.a.createElement("div",null,i.a.createElement("div",{style:{padding:4,display:"flex",flex:1,height:220,flexFlow:"column",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(p,")")}},i.a.createElement("div",{style:{marginTop:"auto",padding:4}},i.a.createElement("span",{style:{backgroundColor:"red",borderRadius:"4px",color:"white",fontWeight:"bold",padding:4}},r,"\ub144 \uac1c\ubd09")),i.a.createElement("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",color:"white",padding:8,marginTop:4}},i.a.createElement("div",{style:{fontWeight:"bold",fontSize:"18px"}},o),i.a.createElement("div",null,d.join(", ")))),i.a.createElement("div",{style:{background:"black",color:"white",padding:"16px"}},i.a.createElement("div",null,i.a.createElement("div",{style:{fontWeight:"bold",fontSize:"18px"}},"\uc601\ud654 \uc815\ubcf4"),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("span",{style:{flex:1}},c,"\ubd84"),i.a.createElement("span",{style:{flex:1}},"\ud3c9\uc810: ",l),void 0!==h&&i.a.createElement("span",{style:{flex:1}},"\uc88b\uc544\uc694: ",h))),i.a.createElement("div",{style:{marginTop:"25px"}},i.a.createElement("div",{style:{fontWeight:"bold",fontSize:"18px"}},"\uc904\uac70\ub9ac"),i.a.createElement("div",null,v))))},x=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isLoading:!1,movies:[],value:"",name:"\uc601\ud654 \uac80\uc0c9",info:void 0},e.getSearchMovie=function(){console.log("search Movie");var t=e.state.value;try{if(""===t)e.setState({movies:[],isLoading:!1});else{e.setState({isLoading:!0});var a=t.split(" "),n=Object(u.a)(a,2),i=n[0],o=n[1];E({sort_by:i,order_by:"desc",limit:o}).then((function(t){var a=t.data.data.movies;e.setState({movies:a,isLoading:!1})}))}}catch(l){console.log(l)}},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.getSearchMovie()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getSearchMovie()}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.isLoading,o=(t.name,t.info);t.value;return i.a.createElement("section",{className:"container"},n?i.a.createElement("div",{className:"loader"},i.a.createElement("span",{className:"loader__text"},"(",this.state.name,") Loading... ",this.state.value)):i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(f,null,i.a.createElement("form",{className:"input_div"},i.a.createElement("input",{className:"input_search",type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"\uc785\ub825\ud3ec\ub9f7: <\uc815\ub82c\uae30\uc900> <\uac80\uc0c9\uac1c\uc218> \uc608: like 5"}),i.a.createElement("button",{type:"submit"}," ",i.a.createElement(g.a,null)," ")),i.a.createElement("div",{className:"imgg"},a.map((function(t,a){return i.a.createElement(p,{key:a,movie:t,handler:function(){return e.setState({info:t})}})}))),o&&i.a.createElement("div",{className:"info"},i.a.createElement(k,{info:o})))))}}]),a}(i.a.Component);var j=function(){return i.a.createElement(x,null," ")};l.a.render(i.a.createElement(j,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e746a434.chunk.js.map